
import datetime

import command_ls
from commands import commands


class rating(commands):

    async def run(self):

        #self.create_mongo.questions_get()
        ret = self.create_mongo.rating(self.from_id)
        #print(ret)
        #d = datetime.strptime(ret["date_editing"], '%a %b %d %Y %H:%M:%S %Z 0300')
        #print(d)
        date = ret["date_editing"].strftime('%m.%d.%Y')
        await self.apis.api_post("messages.send", v=self.v, peer_id=self.peer_id,
                                 message=f"‚úÖ –ë–∞–ª–ª—ã –¥–æ–≤–µ—Ä–∏—è –ø—Ä–∏–±–∞–≤–ª—è—é—Ç—Å—è:\n\n"
                                         f"‚ûï 3 –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ –æ—á–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞/—Ç—Ä–µ–Ω–∏–Ω–≥–∞;\n\n"
                                         f"‚ûï 2 –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞/—Ç—Ä–µ–Ω–∏–Ω–≥–∞;\n\n"
                                         f"‚ûï 4 –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ –æ—á–Ω–æ–≥–æ –∑–∞–Ω—è—Ç–∏—è —Å –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏;\n\n"
                                         f"‚ûï 3 –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –∑–∞–Ω—è—Ç–∏—è —Å –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏;\n\n"
                                         f"‚ûï 5 –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ –æ—á–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ –≤—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å;\n\n"
                                         f"‚ûï 4 –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è;\n\n"
                                         f"‚ûï 1 –∑–∞ –ø–æ—Å–µ—â–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –Ω–∞ –Ω–µ–¥–µ–ª–µ;\n\n"
                                         f"‚ûï 1 –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –≤—Å—Ç—Ä–µ—á–∏ (–æ—Ü–µ–Ω–∫–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞/—Ç—Ä–µ–Ω–µ—Ä–∞);\n\n"
                                         f"‚ûï (1-5) –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –æ—á–Ω–æ–º –∑–∞–Ω—è—Ç–∏–∏ —Å –∫—É—Ä–∞—Ç–æ—Ä–æ–º;\n\n"
                                         f"‚ùå –ë–∞–ª–ª—ã –¥–æ–≤–µ—Ä–∏—è —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è:\n\n"
                                         f"‚ûñ 5 –∑–∞ –Ω–µ—è–≤–∫—É –Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å/—Ç—Ä–µ–Ω–∏–Ω–≥ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –º–µ—Å—Ç–∞–º–∏ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∑–∞—Ä–∞–Ω–µ–µ (–∑–∞ 3 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞);\n\n"
                                         f"‚ûñ 3 –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –Ω–æ—Ä–º –ø–æ–≤–µ–¥–µ–Ω–∏—è (–Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω–∞—è –±—Ä–∞–Ω—å, —Ö–∞–º—Å—Ç–≤–æ, –Ω–µ—É–≤–∞–∂–µ–Ω–∏–µ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –¥—Ä—É–≥–∏–º —Å–ª—É—à–∞—Ç–µ–ª—è–º —à–∫–æ–ª—ã –∏ –µ–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º –∏ —Ç.–¥.);\n\n"
                                         f"‚ûñ 2 –∑–∞ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è\n\n"
                                         f"üìä –í–∞—à —Ç–µ–∫—É—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥: {ret['rating']}\n‚åö –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {date}",
                                 random_id=0)



ratings = command_ls.Command()

ratings.keys = ['/—Ä–µ–π—Ç–∏–Ω–≥', '/—Ä–µ—Ç', '—Ä–µ–π—Ç–∏–Ω–≥']
ratings.description = '–†–µ–π—Ç–∏–Ω–≥'
ratings.process = rating
ratings.topics_blocks = []
ratings.topics_resolution = ["consultants"]
